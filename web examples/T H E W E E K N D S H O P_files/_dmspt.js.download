(function(){function s(n){var t=new RegExp("[A-Za-z0-9]+,[A-Za-z0-9]+,[A-Za-z0-9]+,[A-Za-z0-9]+,[0|1]");return t.test(f(n))}function u(){var w=c(),b=(w.indexOf("https://")!=-1?"https":"http")+"://"+o,v=h(),r,l,f,y,a,u,p;if(v!=""&&s(v)){if(r=[],r.push("url="+t(w)),r.push("title="+t(document.title)),r.push(n+"="+t(v)),Shopify&&Shopify.checkout&&Shopify.checkout.line_items&&Shopify.Checkout.step==="thank_you"){for(l=Shopify.checkout.line_items,f=0;f<l.length;f++)y=l[f].title,a=l[f].variant_title,a&&a.length&&(y+=" - "+a),e("product",y);e("CheckOutAmount",Shopify.checkout.total_price)}for(u=0;u<i.length;u++)r.push((i[u].override?"dm_over_":"dm_write_")+t(i[u].name)+"="+t(i[u].value));b+="?"+r.join("&");p=new Image(1,1);p.src=b;p.onload=function(){return}}}function h(){var r=window.location.search.indexOf(n,0),t=window.location.search,i,u;return(t=r!=-1?t.substring(r):"",r=t.indexOf("&",0),r!=-1&&(t=t.substring(0,r)),t=t.substring((n+"=").length),t!="")?(t=f(t),a(t),t):(document.cookie.length>0&&(i=document.cookie.indexOf(n+"="),i!=-1&&(i=i+n.length+1,u=document.cookie.indexOf(";",i),u==-1&&(u=document.cookie.length),t=f(document.cookie.substring(i,u)))),t)}function c(){var t=window.location.href,r=window.location.search,u,f,i;if(r!=""){for(t=t.substring(0,t.indexOf("?")+1),r=r.substring(1),u=r.split("&"),f=[],i=0;i<u.length;i++)u[i].indexOf(n)==-1&&f.push(u[i]);f.length==0&&(t=t.substring(0,t.indexOf("?")));t+=f.join("&")}return t}function l(){return}function a(i){var u=new Date;u.setTime(u.getTime()+36e5);document.cookie=n+"="+t(i)+";expires="+u.toGMTString()+";path=/;"+(r?"domain="+r+";":"")}function t(n){return encodeURIComponent(n)}function f(n){return decodeURIComponent(n)}function v(n){r=n}function e(n,t){if(n&&t){n.length>255&&(n=n.substring(0,255));var r=arguments.length>2&&typeof arguments[2]=="boolean"?arguments[2]:!1;i.push({name:n,value:t,override:r})}}var o="r2-t.trackedlink.net/PageTrack.ashx",n="dm_i",i=[],r="";window._dmTrack=e;window._dmSetDomain=v;window._dmSend=l;document.readyState!=="loading"?u():window.addEventListener?window.addEventListener("load",u,!1):window.attachEvent("onload",u)})()